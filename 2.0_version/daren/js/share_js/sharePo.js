"use strict";function _defineProperty(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}new Vue({el:"#app",data:{msg:{}},created:function(){this.getPo()},methods:{getPo:function(){function e(e){var a=/^\d+(\.\d+)?$/,t=/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/;return!(!a.test(e)&&!t.test(e))}function a(e){var a=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),t=window.location.search.substr(1).match(a);return null!=t?unescape(t[2]):null}var t=this,n=a("article_id"),r="";r=e(n)?baseUrl+"/v1/article/po?article_id="+n:baseUrl+"/v3/article_po?article_id="+n,$.ajax({type:"get",url:r,success:function(a){if(e(n)){t.msg=a.data,$("title").text(a.data.title);var r=a.data.share.desc,i=a.data.share.image,m=a.data.share.link,o=a.data.share.title;navigator.userAgent.match(/MicroMessenger/i)&&$.ajax({type:"get",url:weiXinUrl+"/wechat/v1/config?url="+window.location.href,success:function(e){setShareInfo({title:o,summary:r,pic:i,url:m,WXconfig:{swapTitleInWX:!0,appId:e.data.appid,timestamp:e.data.timestamp,nonceStr:e.data.noncestr,signature:e.data.signature}}),wx.ready(function(){wx.hideMenuItems({menuList:["menuItem:share:qq","menuItem:share:weiboApp","menuItem:favorite","menuItem:share:facebook","/menuItem:share:QZone"],success:function(e){}})})},error:function(e){console.log(e)}})}else{var s,c;$("title").text(a.data.title);var d={data:{member:(s={member_avatar:a.data.member.avatar,member_nickname:a.data.member.nickname,image:a.data.image,content:a.data.content,collection_num:a.data.comment_num,view_num:a.data.view_num,like_num:a.data.like_num,desc:a.data.share.desc},_defineProperty(s,"image",a.data.share.image),_defineProperty(s,"link",a.data.share.link),_defineProperty(s,"title01",a.data.share.title),s)}},u={data:(c={member_avatar:d.data.member.member_avatar,member_nickname:d.data.member.member_nickname,image:d.data.member.image,content:d.data.member.content,collection_num:d.data.member.collection_num,view_num:d.data.member.view_num,like_num:d.data.member.like_num,desc:d.data.member.desc},_defineProperty(c,"image",d.data.member.image),_defineProperty(c,"link",d.data.member.link),_defineProperty(c,"title01",d.data.member.title01),c)};console.log(d),console.log(u),t.msg=u.data;var r=u.data.desc,i=u.data.image,m=u.data.link;u.data.title01;navigator.userAgent.match(/MicroMessenger/i)&&$.ajax({type:"get",url:weiXinUrl+"/wechat/v1/config?url="+window.location.href,success:function(e){setShareInfo({title:o,summary:r,pic:i,url:m,WXconfig:{swapTitleInWX:!0,appId:e.data.appid,timestamp:e.data.timestamp,nonceStr:e.data.noncestr,signature:e.data.signature}}),wx.ready(function(){wx.hideMenuItems({menuList:["menuItem:share:qq","menuItem:share:weiboApp","menuItem:favorite","menuItem:share:facebook","/menuItem:share:QZone"],success:function(e){}})})},error:function(e){console.log(e+"错误")}})}},error:function(e){console.log(e)}})}}});