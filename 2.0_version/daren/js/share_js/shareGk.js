"use strict";new Vue({el:"#app",data:{msg:{},products:{},isShow:!0},created:function(){this.getGk(),navigator.userAgent.match(/MicroMessenger/i)&&this.share()},methods:{getGk:function(){function a(a){var e=/^\d+(\.\d+)?$/,t=/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/;return!(!e.test(a)&&!t.test(a))}function e(a){var e=new RegExp("(^|&)"+a+"=([^&]*)(&|$)","i"),t=window.location.search.substr(1).match(e);return null!=t?unescape(t[2]):null}var t=this,n=e("article_id"),m="";m=a(n)?baseUrl+"/v1/article/diary?article_id="+n:baseUrl+"/v3/article_diary?article_id="+n,$.ajax({type:"get",url:m,success:function(e){if(a(n))t.msg=e.data,t.products=e.data.product[0];else{var m={data:{member:{member_nickname:e.data.member.nickname,member_avatar:e.data.member.avatar,age:e.data.age,skin_color:e.data.skin_color,skin_type:e.data.skin_type,city_area_name:e.data.city_area_name,title:e.data.title,category_name:e.data.product[0],comment_num:e.data.comment_num,view_num:e.data.view_num,like_num:e.data.like_num}}},r={data:{member_nickname:m.data.member.member_nickname,member_avatar:m.data.member.member_avatar,age:m.data.member.age,skin_color:m.data.member.skin_color,skin_type:m.data.member.skin_type,city_area_name:m.data.member.city_area_name,title:m.data.member.title,category_name:m.data.member.category_name,comment_num:m.data.member.comment_num,view_num:m.data.member.view_num,like_num:m.data.member.like_num}};console.log(m),console.log(r),t.msg=r.data,t.products=r.data.category_name}},error:function(a){console.log(a)}})},share:function(){$.ajax({type:"get",url:weiXinUrl+"/wechat/v1/config?url="+window.location.href,success:function(a){console.log(a.data.appid),console.log(a.data.timestamp),console.log(a.data.noncestr),console.log(a.data.signature),setShareInfo({title:"父爱，在你看不到的地方",summary:"父爱如山，感觉不到只因身在此山中",pic:"http://qzonestyle.gtimg.cn/aoi/sola/20150617094556_OvfOpoRKRB.png",url:"http://qzs.qzone.qq.com/qzone/qzact/act/2015/father-day-m/index.html",WXconfig:{swapTitleInWX:!0,appId:a.data.appid,timestamp:a.data.timestamp,nonceStr:a.data.noncestr,signature:a.data.signature}})},error:function(a){console.log(a)}})}}});